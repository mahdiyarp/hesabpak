{% extends "base.html" %}
{% block content %}
<div class="module-wrap">
  <h2>โ๏ธ ุชูุธูุงุช ุณุงูุงูู</h2>

  <form method="post" class="card" style="padding:16px; margin-bottom:16px;">
    <input type="hidden" name="form_id" value="pos">
    <h3 style="margin-top:0;">ุงูุชุฎุงุจ ุฏุณุชฺฏุงู ฺฉุงุฑุชุฎูุงู</h3>
    <p class="muted" style="margin-top:4px;">
      ุฏุณุชฺฏุงูโูุง ุฒุฑ ุงุฒ ูพุฑฺฉุงุฑุจุฑุฏุชุฑู ูพุงุงููโูุง ูุฑูุด ุณู ุณุงู ุงุฎุฑ ุฏุฑ ุงุฑุงู ูุณุชูุฏ. ุจุง ุงูุชุฎุงุจ ุฏุณุชฺฏุงูุ ูุจูุบ ุงุณูุงุฏ ุฏุฑุงูุช/ูพุฑุฏุงุฎุช ุจูโุตูุฑุช
      ุฎูุฏฺฉุงุฑ ุจุฑุง ุฏุณุชฺฏุงู ุงุฑุณุงู ูโุดูุฏ.
    </p>

    <label class="lbl" for="pos_device">ูุฏู ุฏุณุชฺฏุงู</label>
    <select class="inp" name="pos_device" id="pos_device" style="max-width:360px;">
      {% for value,label in pos_choices %}
        <option value="{{ value }}" {% if value == selected_pos %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>

    <div class="hint" style="margin-top:12px;">
      ุฏุฑ ุตูุฑุช ุงูุชุฎุงุจ ฺฏุฒูู ยซุจุฏูู ุงุชุตุงู ุฎูุฏฺฉุงุฑยป ุงุฑุณุงู ูุจูุบ ุจู ุฏุณุชฺฏุงู ฺฉุงุฑุชุฎูุงู ุงูุฌุงู ูุฎูุงูุฏ ุดุฏ.
    </div>

    <div style="margin-top:16px;">
      <button type="submit" class="btn-primary">ุฐุฎุฑู ุชูุธูุงุช</button>
    </div>
  </form>

  <form method="post" class="card" style="padding:16px; margin-bottom:16px; display:grid; gap:18px;">
    <input type="hidden" name="form_id" value="ui">
    <div>
      <h3 style="margin-top:0;">๐จ ุดุฎุตโุณุงุฒ ุธุงูุฑ</h3>
      <p class="muted">ุชู ุฑุงุจุท ฺฉุงุฑุจุฑ ู ุชุฑุชุจ ููุงุด ฺฉุงุฑุชโูุง ุฏุฑ ุฏุงุดุจูุฑุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</p>
      <div class="theme-options">
        {% for value,label in theme_choices %}
        <label class="theme-option">
          <input type="radio" name="ui_theme" value="{{ value }}" {% if value == selected_theme %}checked{% endif %}>
          <span class="theme-chip theme-{{ value }}">{{ label }}</span>
        </label>
        {% endfor %}
      </div>
    </div>

    <div class="grid-2">
      <div>
        <label class="lbl" for="search_sort">ูุญูู ูุฑุชุจโุณุงุฒ ูุชุงุฌ ุฌุณุชุฌู</label>
        <select class="inp" id="search_sort" name="search_sort">
          {% for value,label in search_sort_choices %}
          <option value="{{ value }}" {% if value == search_sort_selected %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="lbl" for="price_display_mode">ููุงุด ููุช ฺฉุงูุง ุฏุฑ ูุชุงุฌ</label>
        <select class="inp" id="price_display_mode" name="price_display_mode">
          {% for value,label in price_display_modes %}
          <option value="{{ value }}" {% if value == price_mode_selected %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="card muted" style="background:transparent; border:1px dashed var(--border-color); padding:12px;">
      <label style="display:flex; align-items:center; gap:10px;">
        <input type="checkbox" name="allow_negative_sales" {% if allow_negative_selected %}checked{% endif %}>
        ุงูฺฉุงู ุซุจุช ูุฑูุด ุจุง ููุฌูุฏ ููู (ุจุฑุง ูพุดโูุฑูุด ุง ุฑุฒุฑู)
      </label>
    </div>

    <div>
      <h4 style="margin:0 0 8px 0;">ุจุฎุดโูุง ูุงุจู ููุงุด ุฏุฑ ุฏุงุดุจูุฑุฏ</h4>
      <div class="widget-grid">
        {% for value,label in dashboard_widget_choices %}
        <label class="widget-option">
          <input type="checkbox" name="dashboard_widgets" value="{{ value }}" {% if value in dashboard_widgets_selected %}checked{% endif %}>
          <span>{{ label }}</span>
        </label>
        {% endfor %}
      </div>
    </div>

    <div>
      <button type="submit" class="btn-primary">ุฐุฎุฑู ุชูุธูุงุช ุธุงูุฑ</button>
    </div>
  </form>

  <form method="post" class="card" style="padding:16px; margin-bottom:16px; display:grid; gap:16px;">
    <input type="hidden" name="form_id" value="ai">
    <div>
      <h3 style="margin-top:0;">๐ค ุงุชุตุงู ุฏุณุชุงุฑ ููุดููุฏ (ุณุฑุงุณุฑ)</h3>
      <p class="muted">ฺฉูุฏ API ุณุฑูุณ OpenAI ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ูุงฺูู ููุด ูุตููุน ุจุฑุง ุฎูุงูุฏู ูุงฺฉุชูุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
    </div>

    <div class="grid-2">
      <div>
        <label class="lbl" for="openai_api_key">ฺฉูุฏ API</label>
        <input class="inp" type="password" id="openai_api_key" name="openai_api_key" placeholder="sk-..." autocomplete="off">
        {% if assistant_api_has %}
        <div class="hint">ฺฉูุฏ ูุนู: {{ assistant_api_mask }}</div>
        {% else %}
        <div class="hint">ุจุฑุง ูุนุงูโุดุฏู ุฏุณุชุงุฑ ูุงุฒู ุงุณุช ฺฉ ฺฉูุฏ ูุนุชุจุฑ ุซุจุช ุดูุฏ.</div>
        {% endif %}
      </div>
      <div>
        <label class="lbl" for="openai_model">ูุฏู ูพุดโูุฑุถ</label>
        <select class="inp" id="openai_model" name="openai_model">
          {% for value,label in assistant_model_choices %}
          <option value="{{ value }}" {% if value == assistant_model_selected %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
        <div class="hint">ูุฏูโูุง ฺูุฏุญุงูุชู ูุงุฏุฑ ุจู ูพุฑุฏุงุฒุด ูุชู ู ุชุตูุฑ ูุณุชูุฏ.</div>
      </div>
    </div>

    <div class="card muted" style="background:transparent; border:1px dashed var(--border-color); padding:12px;">
      <ul style="margin:0; padding-right:18px; line-height:1.8;">
        <li>ฺฉูุฏ ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู ุจูโุตูุฑุช ุฑูุฒ ูุดุฏู ูฺฏูุฏุงุฑ ูโุดูุฏุ ุงุฒ ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู ุบุฑูุฌุงุฒ ุฌููฺฏุฑ ฺฉูุฏ.</li>
        <li>ุจุฑุง ุญุฐู ฺฉูุฏุ ููุฏ ุฑุง ุฎุงู ฺฏุฐุงุดุชู ู ุฐุฎุฑู ฺฉูุฏ.</li>
      </ul>
    </div>

    <div>
      <button type="submit" class="btn-primary">ุฐุฎุฑู ุชูุธูุงุช ุฏุณุชุงุฑ</button>
    </div>
  </form>

  <form method="post" class="card" style="padding:16px; margin-bottom:16px; display:grid; gap:16px; border:2px solid #28a745;">
    <input type="hidden" name="form_id" value="user_ai">
    <div>
      <h3 style="margin-top:0;">๐ค ุชูุธูุงุช ุดุฎุต ุฏุณุชุงุฑ ููุดููุฏ</h3>
      <p class="muted">ุชูุธูุงุช ุดุฎุต ุดูุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชุงุฑ ููุดููุฏ (ฺฉูุฏ APIุ ูุฏูุ ุฏุณุชูุฑุงูุนููโูุง ุณุณุชู ู ...)</p>
      <div class="card muted" style="background:#e7f9ed; border:1px solid #28a745; padding:12px; margin-top:12px;">
        <strong>โจ ูฺฺฏ ุฌุฏุฏ:</strong> ุญุงูุง ูุฑ ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ฺฉูุฏ API ู ุชูุธูุงุช ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ!
      </div>
    </div>

    <div class="grid-2">
      <div>
        <label class="lbl" for="user_openai_api_key">ฺฉูุฏ API ุดุฎุต ุดูุง</label>
        <input class="inp" type="password" id="user_openai_api_key" name="user_openai_api_key" 
               value="{{ user_settings.openai_api_key or '' }}" placeholder="sk-..." autocomplete="off">
        <div class="hint">ุงฺฏุฑ ุฎุงู ุจุงุดุฏุ ุงุฒ ฺฉูุฏ ุณุฑุงุณุฑ ุงุณุชูุงุฏู ูโุดูุฏ.</div>
      </div>
      <div>
        <label class="lbl" for="user_openai_model">ูุฏู ุฏูุฎูุงู ุดูุง</label>
        <select class="inp" id="user_openai_model" name="user_openai_model">
          <option value="">ูพุดโูุฑุถ (ุงุฒ ุชูุธูุงุช ุณุฑุงุณุฑ)</option>
          {% for value,label in assistant_model_choices %}
          <option value="{{ value }}" {% if user_settings.openai_model == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div>
      <label class="lbl" for="user_system_prompt">ุฏุณุชูุฑุงูุนููโูุง ุณุณุชู ุณูุงุฑุด (ุงุฎุชุงุฑ)</label>
      <textarea class="inp" id="user_system_prompt" name="user_system_prompt" rows="4" 
                placeholder="ูุซุงู: ุชู ฺฉ ุฏุณุชุงุฑ ุญุณุงุจุฏุงุฑ ุจุฑุง ฺฉ ูุฑูุดฺฏุงู ููุจุงู ูุณุช. ููุดู ููุชโูุง ุฑุง ุจุง ุฏูุช ุจุฑุฑุณ ฺฉู...">{{ user_settings.system_prompt or '' }}</textarea>
      <div class="hint">ุงู ุฏุณุชูุฑุงุช ุจู ุนููุงู ูพุงู ุณุณุชู ุจุฑุง ูุฏู ุงุฑุณุงู ูโุดูุฏ.</div>
    </div>

    <div class="grid-2">
      <div>
        <label class="lbl" for="user_temperature">Temperature (ุฎูุงูุช ูุฏู)</label>
        <input class="inp" type="number" id="user_temperature" name="user_temperature" 
               value="{{ user_settings.temperature or 0.7 }}" min="0" max="2" step="0.1">
        <div class="hint">ุนุฏุฏ ฺฉูุชุฑ = ุฏููโุชุฑุ ุนุฏุฏ ุจุดุชุฑ = ุฎูุงูโุชุฑ (ูพุดโูุฑุถ: 0.7)</div>
      </div>
      <div>
        <label class="lbl" for="user_max_tokens">ุญุฏุงฺฉุซุฑ ุชูฺฉู (ุงุฎุชุงุฑ)</label>
        <input class="inp" type="number" id="user_max_tokens" name="user_max_tokens" 
               value="{{ user_settings.max_tokens or '' }}" min="100" max="16000" placeholder="ุฎูุฏฺฉุงุฑ">
        <div class="hint">ูุญุฏูุฏุช ุทูู ูพุงุณุฎ (ุฎุงู = ุจุฏูู ูุญุฏูุฏุช)</div>
      </div>
    </div>

    <div class="card muted" style="background:transparent; border:1px dashed var(--border-color); padding:12px;">
      <ul style="margin:0; padding-right:18px; line-height:1.8;">
        <li><strong>ฺฉูุฏ API ุดุฎุต:</strong> ุงฺฏุฑ ูุงุฑุฏ ฺฉูุฏุ ุงุฒ ฺฉูุฏ ุดูุง ุงุณุชูุงุฏู ูโุดูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุงุฒ ฺฉูุฏ ุณุฑุงุณุฑ</li>
        <li><strong>ูุฏู:</strong> ูโุชูุงูุฏ ูุฏู ุฏูุฎูุงู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ (ูุซูุงู gpt-4o ุจุฑุง ุฏูุช ุจุดุชุฑ)</li>
        <li><strong>ุฏุณุชูุฑุงูุนููโูุง ุณุณุชู:</strong> ุฑูุชุงุฑ ุฏุณุชุงุฑ ุฑุง ุจุฑุง ูุงุฒูุง ุฎุงุต ุฎูุฏ ุดุฎุตโุณุงุฒ ฺฉูุฏ</li>
        <li><strong>Temperature:</strong> ฺฉูุชุฑู ูุฒุงู ุฎูุงูุช ู ุชุตุงุฏู ุจูุฏู ูพุงุณุฎโูุง</li>
        <li>ุงู ุชูุธูุงุช ููุท ุจุฑุง ฺฉุงุฑุจุฑ ุดูุง ุฐุฎุฑู ูโุดูุฏ ู ุฑู ุฏฺฏุฑุงู ุชุฃุซุฑ ูุฏุงุฑุฏ</li>
      </ul>
    </div>

    <div>
      <button type="submit" class="btn-primary">๐พ ุฐุฎุฑู ุชูุธูุงุช ุดุฎุต ูู</button>
    </div>
  </form>

  <div class="card" style="padding:16px;">
    <h3 style="margin-top:0;">ุฑุงูููุง</h3>
    <ul class="muted" style="margin-top:8px; line-height:1.8;">
      <li>ุชู ยซุทูุณ ููุฑุจยป ูุดุงุจู ุชุตูุฑ ูพุดโููุงุด ุจูุฏู ู ูุงูุจุฑ ููุฑุจ ู ฺฉุงุฑุชโูุง ุจุง ุณุงู ูุฑู ุงุฑุงุฆู ูโุฏูุฏ.</li>
      <li>ูุฑุชุจโุณุงุฒ ุฌุณุชุฌู ุจุฑุง ุชูุงู ูุฑูโูุง ุงูุชุฎุงุจ ฺฉุงูุงุ ูุดุชุฑ ู ฺฺฉ ุงุนูุงู ูโุดูุฏ.</li>
      <li>ุงฺฏุฑ ูุฑูุด ููู ุฑุง ูุนุงู ฺฉูุฏ ฺฉุงูุด ููุฌูุฏ ุงุฒ ุญุฏ ุตูุฑ ุนุจูุฑ ูโฺฉูุฏ ู ุฏุฑ ฺฏุฒุงุฑุด ููุฌูุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ.</li>
    </ul>
  </div>
</div>
{% endblock %}
